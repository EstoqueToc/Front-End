<!DOCTYPE html>
<html lang="pt">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>EstoqueToc | Produtos</title>
    <link rel="stylesheet" href="../css/dashboard.css" />
    <link rel="stylesheet" href="../css/produtos.css" />
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11.0.18/dist/sweetalert2.min.css" />
    <link rel="website icon" href="../img/logo.jpeg" />
    <script src="../js/produtos.js"></script>
    <link rel="stylesheet" href="../js/produtos.js">
    <script></script>
</head>

<body>
    <nav class="menu-lateral" id="menuLateral">
        <div class="botao-menu" onclick="botaoMenu()">
            <img src="../img/menu-hamburguer.png" alt="" />
        </div>

        <div class="usuario">
            <h4 id="Empresa"></h4>
            <img src="../img/usuario.png" alt="" />
            <h4 id="Usuario"></h4>
        </div>

        <ul>
            <li class="item-menu">
                <a href="./dashboard.html">
                    <span class="icone"></span>
                    <span class="texto">Página Inicial</span>
                </a>
            </li>
            <li class="item-menu">
                <a href="./produtos.html">
                    <span class="icone"></span>
                    <span class="texto">Estoque <img src="../img/estoque-pronto.png" alt=""></span>
                </a>
            </li>
            <li class="item-menu">
                <a href="#">
                    <span class="icone"></span>
                    <span class="texto">Compras<img src="../img/compras.png" alt=""></span>
                </a>
            </li>
            <li class="item-menu">
                <a href="./relatorios.html">
                    <span class="icone"></span>
                    <span class="texto">Relatórios<img src="../img/relatorio.png" alt=""></span>
                </a>
            </li>
            <li class="item-menu">
                <a href="./usuario.html">
                    <span class="icone"></span>
                    <span class="texto">Usuários<img src="../img/adicionar-usuario.png" alt=""></span>
                </a>
            </li>
            <li class="item-menu">
                <a href="#">
                    <span class="icone"></span>
                    <span class="texto">Sair</span>
                </a>
            </li>
        </ul>
    </nav>

    <div class="header">
        <a href="../pages/cadastroProdutos.html" class="logo">Produtos<img src="../img/icon-park-outline--add.svg"
                alt="adicionar novo usuario"></a>
        <div class="header-right">
            <input type="search">
            <button class="pesquisar">Pesquisar</button>
        </div>
    </div>

    <div class="container-usuarios">
        
        <h1>Todos seus produtos</h1> <br>
        <div id="quadrado">
        <div class="cabecalho" id="cabecalho">
            <img src="../img/oui--arrow-up.svg" alt="" class="rotate">
            <h3>Aperte aqui para configurar os status de estoque</h3>
        </div>
            <div id="campos">
                <div class="inputs-informations">
                    <div>
                        <label for="alto">Quantidade de estoque considerado alto:</label>
                        <input type="text" id="alto" placeholder="Coloque um valor" onclick="event.stopPropagation();">
                    </div>
                    <div>
                        <label for="medio">Quantidade de estoque considerado médio:</label>
                        <input type="text" id="medio" placeholder="Coloque um valor" onclick="event.stopPropagation();">
                    </div>
                    <div>
                        <label for="falta">Quantidade de estoque considerado baixo:</label>
                        <input type="text" id="falta" placeholder="Coloque um valor" onclick="event.stopPropagation();">
                    </div>
                </div>
                <div class="botaoCadStatus">
                    <button class="btnCadStatus" onclick="event.stopPropagation();">Salvar</button>
                </div>
            </div>
        </div> <br><br>

        <h4>Filtros de Status do seu Estoque</h4>
        <div class="filtroStatus">
            <div>
                <input type="radio" name="prioridade">Alto
            </div>
            <div>
                <input type="radio" name="prioridade">Médio
            </div>
            <div>
                <input type="radio" name="prioridade">Baixo
            </div>
        </div>

        <table class="tabela-usuario">
            <thead>
                <tr>
                    <th>ID</th>
                    <th>Produto</th>
                    <th>Quantidade</th>
                    <th>Preço Unitário</th>
                    <th>Status Estoque</th>
                    <th>Editar</th>
                </tr>
            </thead>
            <tbody id="products-table">
                <!-- Os dados da tabela serão preenchidos dinamicamente via JavaScript -->
            </tbody>
        </table> <br><br>

        <button class="exportarRelatorio">
            <img src="../img/tabler--file-export (1).svg" alt="">Exportar Relatório
        </button>
    </div>

    <footer class="footer">
        <p>&copy;EstoqueToc.</p>
    </footer>

    <script>
        // Função para preencher a tabela
        function fillTable() {
            // Simulação de dados, você deve substituir isso com dados reais
            var products = [];

            // Verifica se há parâmetros na URL (se veio de cadastroProdutos.html)
            var urlParams = new URLSearchParams(window.location.search);
            if (urlParams.has('id') && urlParams.has('produto') && urlParams.has('quantidade') && urlParams.has('preco') && urlParams.has('status')) {
                // Cria um novo produto com os parâmetros da URL
                var newProduct = {
                    id: urlParams.get('id'),
                    produto: urlParams.get('produto'),
                    quantidade: urlParams.get('quantidade'),
                    preco: urlParams.get('preco'),
                    status: urlParams.get('status')
                };

                // Adiciona o novo produto à lista de produtos
                products.push(newProduct);
            }

            var tableBody = document.getElementById('products-table');
            tableBody.innerHTML = '';

            products.forEach(function (product) {
                    var row = "<tr>" +
                    "<td>" + product.id + "</td>" +
                    "<td>" + product.produto + "</td>" +
                    "<td>" + product.quantidade + "</td>" +
                    "<td>" + product.preco + "</td>" +
                    "<td>" + product.status + "</td>" +
                    "<td><a href='../pages/alterarProduto.html'><img src='../img/editar.png' alt='Editar' style='width: 20px; height: 20px;'></a></td>" + // Adiciona a imagem de editar
                    "</tr>";
                tableBody.innerHTML += row;
            });
        }

        // Preenche a tabela quando a página carrega
        fillTable();

        document.getElementById("quadrado").addEventListener("click", function () {
            this.classList.toggle("ampliado");
        });
    </script>

</body>

</html>