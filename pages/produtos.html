<!DOCTYPE html>
<html lang="pt">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>EstoqueToc | Produtos</title>
    <link rel="stylesheet" href="../css/dashboard.css"/>
    <link rel="stylesheet" href="../css/produtos.css"/>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11.0.18/dist/sweetalert2.min.css"/>
    <link rel="website icon" href="../img/logo.jpeg" />
    <script src="../js/produtos.js"></script>
    <link rel="stylesheet" href="../js/produtos.js">
    <script></script>
  </head>

  <body>
    <nav class="menu-lateral" id="menuLateral">
        <div class="botao-menu" onclick="botaoMenu()">
            <img src="../img/menu-hamburguer.png" alt="" />
        </div>

        <div class="usuario">
            <h4 id="Empresa"></h4>
            <img src="../img/usuario.png" alt="" />
            <h4 id="Usuario"></h4>
        </div>

        <ul>
            <li class="item-menu">
                <a href="./dashboard.html">
                    <span class="icone"></span>
                    <span class="texto">Página Inicial</span>
                </a>
            </li>
            <li class="item-menu">
                <a href="./produtos.html">
                    <span class="icone"></span>
                    <span class="texto">Estoque <img src="../img/estoque-pronto.png" alt=""></span>
                </a>
            </li>
            <li class="item-menu">
                <a href="#">
                    <span class="icone"></span>
                    <span class="texto">Compras<img src="../img/compras.png" alt=""></span>
                </a>
            </li>
            <li class="item-menu">
                <a href="./relatorios.html">
                    <span class="icone"></span>
                    <span class="texto">Relatórios<img src="../img/relatorio.png" alt=""></span>
                </a>
            </li>
            <li class="item-menu">
                <a href="./usuario.html">
                    <span class="icone"></span>
                    <span class="texto">Usuários<img src="../img/adicionar-usuario.png" alt=""></span>
                </a>
            </li>
            <li class="item-menu">
                <a href="#">
                    <span class="icone"></span>
                    <span class="texto">Sair</span>
                </a>
            </li>
        </ul>
    </nav>

    <div class="header">
        <a href="../pages/cadastroProdutos.html" class="logo">Produtos<img src="../img/icon-park-outline--add.svg" alt="adicionar novo usuario"></a> 
        <div class="header-right">
          <input type="search">
          <button class="pesquisar">Pesquisar</button>
        </div>
    </div>

    <div class="container-usuarios">
        <table class="tabela-usuario">
            <thead>
                <tr>
                    <th>ID</th>
                    <th>Produto</th>
                    <th>Quantidade</th>
                    <th>Preço Unitário</th>
                    <th>Status Estoque</th>
                </tr>
            </thead>
            <tbody id="products-table">
                <!-- Os dados da tabela serão preenchidos dinamicamente via JavaScript -->
            </tbody>
        </table>
    </div>

    <footer class="footer">
        <p>&copy;EstoqueToc.</p>
    </footer>

    <script>
        // Função para preencher a tabela
        function fillTable() {
            // Simulação de dados, você deve substituir isso com dados reais
            var products = [];

            // Verifica se há parâmetros na URL (se veio de cadastroProdutos.html)
            var urlParams = new URLSearchParams(window.location.search);
            if (urlParams.has('id') && urlParams.has('produto') && urlParams.has('quantidade') && urlParams.has('preco') && urlParams.has('status')) {
                // Cria um novo produto com os parâmetros da URL
                var newProduct = {
                    id: urlParams.get('id'),
                    produto: urlParams.get('produto'),
                    quantidade: urlParams.get('quantidade'),
                    preco: urlParams.get('preco'),
                    status: urlParams.get('status')
                };

                // Adiciona o novo produto à lista de produtos
                products.push(newProduct);
            }

            // Simulação de dados adicionais
            products.push(
                { id: 1, produto: 'Produto 1', quantidade: 10, preco: 50, status: 'Em Estoque' },
                { id: 2, produto: 'Produto 2', quantidade: 20, preco: 30, status: 'Em Estoque' },
                { id: 3, produto: 'Produto 3', quantidade: 5, preco: 100, status: 'Em Falta' }
            );

            var tableBody = document.getElementById('products-table');
            tableBody.innerHTML = '';

            products.forEach(function(product) {
                var row = "<tr>" +
                            "<td>" + product.id + "</td>" +
                            "<td>" + product.produto + "</td>" +
                            "<td>" + product.quantidade + "</td>" +
                            "<td>" + product.preco + "</td>" +
                            "<td>" + product.status + "</td>" +
                          "</tr>";
                tableBody.innerHTML += row;
            });
        }

        // Preenche a tabela quando a página carrega
        fillTable();
    </script>

</body>
</html>
